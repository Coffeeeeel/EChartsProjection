<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8' />
    <title>Current</title>
    <!--<script  src="http://api.map.baidu.com/getscript?v=2.0&ak=38aef693ee9395dd933cbc84828e2244&services=&t=20180323171755"></script>-->
    <link rel="stylesheet" href="//apps.bdimg.com/libs/bootstrap/3.3.0/css/bootstrap.min.css">
    <link href="css/my_css.css" rel="stylesheet">
    <script src="//apps.bdimg.com/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="//apps.bdimg.com/libs/bootstrap/3.3.0/js/bootstrap.min.js"></script>

    <script src="js/echarts.js"></script>
    <script src="js/echarts-gl.js"></script>


<body>
<nav class="navbar navbar-inverse" role="navigation">
    <div class="navbar-header">
        <a  href="index.html">
            <img alt="logo" src="imgs/logo.png" >
        </a>
    </div>
    <div class="nav-title">
        <ul class="nav navbar-nav nav-pills">
            <li><a href ='realTimeData.html' >实时数据</a></li>
            <li><a href ='FerryBoxData.html' >FerryBox数据</a></li>
            <li><a href ='Current.html' >current Test</a></li>
            <li><a href ='3D_test.html' >3D Test</a></li>
            <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                    nav5
                    <b class="caret"></b>
                </a>
                <ul class="dropdown-menu">
                    <li><a href="#">menu1</a></li>
                    <li><a href="#">menu2</a></li>
                    <li><a href="#">menu3</a></li>
                    <li class="divider"></li>
                    <li><a href="#">分离的链接</a></li>
                    <li class="divider"></li>
                    <li><a href="#">另一个分离的链接</a></li>
                </ul>
            </li>

        </ul>
    </div>
    <ul class="nav navbar-nav navbar-right sign-in">
        <li><a href =#>登陆</a></li>
    </ul>
    <div>
        <form class="navbar-form navbar-right" role="search">
            <div class="form-group">
                <input type="text" class="form-control" placeholder="请输入搜索内容...">
            </div>
            <button type="submit" class="btn btn-default">提交</button>
        </form>
    </div>
</nav>
<div class="main" id="main">
    <div class="map" id="map"></div>
</div>
<script>
    var raw_data=[
        [122.5718040477, 37.0583513319, 0.45, -0.519],
        [122.5718040477, 37.0493520518, 0.244, -0.474],
        [122.5718040477, 37.0403527718, -1.029, -0.291],
        [122.5830883929, 37.0853491721, 0.344, -0.451],
        [122.5830883929, 37.076349892, 0.146, -0.431],
        [122.5830883929, 37.067350612, 0.218, -0.44],
        [122.5830883929, 37.0583513319, 0.057, -0.43],
        [122.5830883929, 37.0493520518, -0.558, -0.376],
        [122.5830883929, 37.0403527718, -0.939, -0.341],
        [122.5943727382, 37.0853491721, 0.0, 0.0],
        [122.5943727382, 37.076349892, 0.46, -0.398],
        [122.5943727382, 37.067350612, -0.056, -0.387],
        [122.5943727382, 37.0583513319, 0.089, -0.399],
        [122.5943727382, 37.0493520518, -0.81, -0.388],
        [122.5943727382, 37.0403527718, -0.919, -0.381],
        [122.6056570834, 37.0853491721, 0.544, -0.362],
        [122.6056570834, 37.076349892, 0.039, -0.368],
        [122.6056570834, 37.067350612, -0.1, -0.367],
        [122.6056570834, 37.0583513319, -0.088, -0.378],
        [122.6056570834, 37.0493520518, -0.818, -0.422],
        [122.6056570834, 37.0403527718, -0.912, -0.418],
        [122.6056570834, 37.0313534917, -0.323, -0.38],
        [122.6169414287, 37.1033477322, 0.416, -0.297],
        [122.6169414287, 37.0853491721, -0.178, -0.397],
        [122.6169414287, 37.076349892, -0.21, -0.388],
        [122.6169414287, 37.067350612, -0.128, -0.417],
        [122.6169414287, 37.0583513319, -0.113, -0.435],
        [122.6169414287, 37.0493520518, 0.051, -0.365],
        [122.6169414287, 37.0403527718, 0.039, -0.366],
        [122.6282257739, 37.1483441325, -0.577, -0.653],
        [122.6282257739, 37.1393448524, -0.694, -0.647],
        [122.6282257739, 37.1213462923, -0.172, -0.406],
        [122.6282257739, 37.1123470122, -0.179, -0.411],
        [122.6282257739, 37.1033477322, -0.193, -0.437],
        [122.6282257739, 37.0943484521, -0.214, -0.432],
        [122.6282257739, 37.0853491721, -0.239, -0.434],
        [122.6282257739, 37.076349892, -0.262, -0.419],
        [122.6282257739, 37.067350612, -0.196, -0.371],
        [122.6282257739, 37.0583513319, -0.145, -0.438],
        [122.6282257739, 37.0493520518, -0.18, -0.402],
        [122.6282257739, 37.0403527718, -0.105, -0.393],
        [122.6282257739, 37.0313534917, -0.084, -0.37],
        [122.6395101192, 37.1933405328, 0.087, -1.115],
        [122.6395101192, 37.1573434125, -0.327, -0.807],
        [122.6395101192, 37.1483441325, -0.293, -0.711],
        [122.6395101192, 37.1393448524, -0.452, -0.788],
        [122.6395101192, 37.1303455724, 0.839, -0.125],
        [122.6395101192, 37.1213462923, -0.03, -0.62],
        [122.6395101192, 37.1123470122, -0.12, -0.598],
        [122.6395101192, 37.1033477322, -0.134, -0.537],
        [122.6395101192, 37.0943484521, -0.139, -0.491],
        [122.6395101192, 37.0853491721, -0.168, -0.51],
        [122.6395101192, 37.076349892, -0.147, -0.55],
        [122.6395101192, 37.067350612, -0.176, -0.514],
        [122.6395101192, 37.0583513319, -0.155, -0.567],
        [122.6395101192, 37.0493520518, -0.179, -0.454],
        [122.6395101192, 37.0403527718, -0.069, -0.426],
        [122.6395101192, 37.0313534917, -0.139, -0.395],
        [122.6395101192, 37.0223542117, -0.254, -0.415],
        [122.6507944644, 37.2023398128, 0.483, -1.273],
        [122.6507944644, 37.1933405328, 0.128, -1.287],
        [122.6507944644, 37.1843412527, -0.115, -1.099],
        [122.6507944644, 37.1753419726, -0.291, -1.183],
        [122.6507944644, 37.1663426926, -0.436, -1.16],
        [122.6507944644, 37.1573434125, -0.29, -0.846],
        [122.6507944644, 37.1483441325, -0.182, -0.798],
        [122.6507944644, 37.1393448524, -0.017, -0.707],
        [122.6507944644, 37.1303455724, 0.047, -0.708],
        [122.6507944644, 37.1213462923, 0.047, -0.732],
        [122.6507944644, 37.1123470122, 0.031, -0.747],
        [122.6507944644, 37.1033477322, 0.001, -0.747],
        [122.6507944644, 37.0943484521, -0.021, -0.721],
        [122.6507944644, 37.0853491721, -0.042, -0.698],
        [122.6507944644, 37.076349892, -0.086, -0.704],
        [122.6507944644, 37.067350612, -0.125, -0.711],
        [122.6507944644, 37.0583513319, -0.149, -0.68],
        [122.6507944644, 37.0493520518, -0.174, -0.646],
        [122.6507944644, 37.0403527718, -0.138, -0.622],
        [122.6507944644, 37.0313534917, -0.219, -0.465],
        [122.6507944644, 37.0223542117, -0.343, -0.509],
        [122.6620788097, 37.2023398128, 0.474, -1.181],
        [122.6620788097, 37.1933405328, 0.171, -1.142],
        [122.6620788097, 37.1843412527, -0.071, -1.181],
        [122.6620788097, 37.1753419726, -0.194, -1.113],
        [122.6620788097, 37.1663426926, -0.25, -1.027],
        [122.6620788097, 37.1573434125, -0.253, -0.916],
        [122.6620788097, 37.1483441325, -0.132, -0.789],
        [122.6620788097, 37.1393448524, 0.009, -0.743],
        [122.6620788097, 37.1303455724, 0.044, -0.767],
        [122.6620788097, 37.1213462923, 0.048, -0.783],
        [122.6620788097, 37.1123470122, 0.024, -0.802],
        [122.6620788097, 37.1033477322, -0.005, -0.815],
        [122.6620788097, 37.0943484521, -0.02, -0.811],
        [122.6620788097, 37.0853491721, -0.022, -0.802],
        [122.6620788097, 37.076349892, -0.061, -0.819],
        [122.6620788097, 37.067350612, -0.098, -0.824],
        [122.6620788097, 37.0583513319, -0.126, -0.794],
        [122.6620788097, 37.0493520518, -0.189, -0.753],
        [122.6620788097, 37.0403527718, -0.257, -0.734],
        [122.6620788097, 37.0313534917, -0.388, -0.751],
        [122.6620788097, 37.0223542117, -0.533, -0.832],
        [122.6733631549, 37.2113390929, 0.772, -1.379],
        [122.6733631549, 37.2023398128, 0.505, -1.196],
        [122.6733631549, 37.1933405328, 0.219, -1.249],
        [122.6733631549, 37.1843412527, 0.003, -1.182],
        [122.6733631549, 37.1753419726, -0.109, -1.145],
        [122.6733631549, 37.1663426926, -0.167, -1.024],
        [122.6733631549, 37.1573434125, -0.178, -0.95],
        [122.6733631549, 37.1483441325, -0.071, -0.829],
        [122.6733631549, 37.1393448524, -0.021, -0.768],
        [122.6733631549, 37.1303455724, 0.019, -0.779],
        [122.6733631549, 37.1213462923, 0.037, -0.815],
        [122.6733631549, 37.1123470122, 0.014, -0.836],
        [122.6733631549, 37.1033477322, -0.014, -0.853],
        [122.6733631549, 37.0943484521, -0.044, -0.86],
        [122.6733631549, 37.0853491721, -0.029, -0.838],
        [122.6733631549, 37.076349892, -0.061, -0.844],
        [122.6733631549, 37.067350612, -0.1, -0.847],
        [122.6733631549, 37.0583513319, -0.127, -0.825],
        [122.6733631549, 37.0493520518, -0.196, -0.813],
        [122.6733631549, 37.0403527718, -0.304, -0.832],
        [122.6733631549, 37.0313534917, -0.44, -0.897],
        [122.6733631549, 37.0223542117, -0.586, -0.976],
        [122.6733631549, 37.0133549316, -0.718, -1.02],
        [122.6846475002, 37.2113390929, 0.83, -1.353],
        [122.6846475002, 37.2023398128, 0.572, -1.241],
        [122.6846475002, 37.1933405328, 0.261, -1.117],
        [122.6846475002, 37.1843412527, 0.053, -1.168],
        [122.6846475002, 37.1753419726, -0.048, -1.103],
        [122.6846475002, 37.1663426926, -0.119, -1.046],
        [122.6846475002, 37.1573434125, -0.095, -0.947],
        [122.6846475002, 37.1483441325, -0.038, -0.843],
        [122.6846475002, 37.1393448524, -0.01, -0.789],
        [122.6846475002, 37.1303455724, 0.002, -0.787],
        [122.6846475002, 37.1213462923, 0.014, -0.819],
        [122.6846475002, 37.1123470122, -0.003, -0.849],
        [122.6846475002, 37.1033477322, -0.031, -0.869],
        [122.6846475002, 37.0943484521, -0.053, -0.87],
        [122.6846475002, 37.0853491721, -0.033, -0.84],
        [122.6846475002, 37.076349892, -0.037, -0.844],
        [122.6846475002, 37.067350612, -0.07, -0.848],
        [122.6846475002, 37.0583513319, -0.134, -0.852],
        [122.6846475002, 37.0493520518, -0.226, -0.875],
        [122.6846475002, 37.0403527718, -0.335, -0.914],
        [122.6846475002, 37.0313534917, -0.476, -0.982],
        [122.6846475002, 37.0223542117, -0.621, -1.059],
        [122.6846475002, 37.0133549316, -0.756, -1.096],
        [122.6959318454, 37.2113390929, 0.897, -1.481],
        [122.6959318454, 37.2023398128, 0.662, -1.342],
        [122.6959318454, 37.1933405328, 0.37, -1.186],
        [122.6959318454, 37.1843412527, 0.173, -1.11],
        [122.6959318454, 37.1753419726, -0.008, -1.094],
        [122.6959318454, 37.1663426926, -0.056, -1.041],
        [122.6959318454, 37.1573434125, -0.073, -0.947],
        [122.6959318454, 37.1483441325, -0.017, -0.827],
        [122.6959318454, 37.1393448524, -0.001, -0.791],
        [122.6959318454, 37.1303455724, -0.002, -0.792],
        [122.6959318454, 37.1213462923, -0.002, -0.811],
        [122.6959318454, 37.1123470122, -0.023, -0.838],
        [122.6959318454, 37.1033477322, -0.042, -0.86],
        [122.6959318454, 37.0943484521, -0.052, -0.859],
        [122.6959318454, 37.0853491721, -0.029, -0.826],
        [122.6959318454, 37.076349892, -0.035, -0.818],
        [122.6959318454, 37.067350612, -0.081, -0.844],
        [122.6959318454, 37.0583513319, -0.171, -0.888],
        [122.6959318454, 37.0493520518, -0.282, -0.932],
        [122.6959318454, 37.0403527718, -0.364, -0.977],
        [122.6959318454, 37.0313534917, -0.5, -1.041],
        [122.6959318454, 37.0223542117, -0.662, -1.116],
        [122.6959318454, 37.0133549316, -0.79, -1.158],
        [122.7072161907, 37.2203383729, 0.0, 0.0],
        [122.7072161907, 37.2113390929, 0.914, -1.572],
        [122.7072161907, 37.2023398128, 0.731, -1.465],
        [122.7072161907, 37.1933405328, 0.509, -1.314],
        [122.7072161907, 37.1843412527, 0.278, -1.185],
        [122.7072161907, 37.1753419726, 0.051, -1.062],
        [122.7072161907, 37.1663426926, -0.018, -1.054],
        [122.7072161907, 37.1573434125, -0.018, -0.937],
        [122.7072161907, 37.1483441325, -0.004, -0.842],
        [122.7072161907, 37.1393448524, 0.01, -0.796],
        [122.7072161907, 37.1303455724, 0.014, -0.793],
        [122.7072161907, 37.1213462923, -0.01, -0.828],
        [122.7072161907, 37.1123470122, -0.015, -0.835],
        [122.7072161907, 37.1033477322, -0.033, -0.859],
        [122.7072161907, 37.0943484521, -0.033, -0.847],
        [122.7072161907, 37.0853491721, -0.025, -0.809],
        [122.7072161907, 37.076349892, -0.051, -0.814],
        [122.7072161907, 37.067350612, -0.119, -0.855],
        [122.7072161907, 37.0583513319, -0.219, -0.933],
        [122.7072161907, 37.0493520518, -0.327, -1.002],
        [122.7072161907, 37.0403527718, -0.406, -1.043],
        [122.7072161907, 37.0313534917, -0.534, -1.106],
        [122.7072161907, 37.0223542117, -0.665, -1.149],
        [122.7072161907, 37.0133549316, -0.782, -1.19],
        [122.7072161907, 37.0043556515, -0.894, -1.206],
        [122.7185005359, 37.2203383729, 0.0, 0.0],
        [122.7185005359, 37.2113390929, 0.0, 0.0],
        [122.7185005359, 37.2023398128, 0.755, -1.56],
        [122.7185005359, 37.1933405328, 0.586, -1.439],
        [122.7185005359, 37.1843412527, 0.306, -1.218],
        [122.7185005359, 37.1753419726, 0.108, -1.08],
        [122.7185005359, 37.1663426926, 0.022, -1.02],
        [122.7185005359, 37.1573434125, 0.004, -0.937],
        [122.7185005359, 37.1483441325, 0.021, -0.832],
        [122.7185005359, 37.1393448524, 0.026, -0.817],
        [122.7185005359, 37.1303455724, 0.022, -0.832],
        [122.7185005359, 37.1213462923, 0.013, -0.839],
        [122.7185005359, 37.1123470122, -0.008, -0.852],
        [122.7185005359, 37.1033477322, -0.022, -0.863],
        [122.7185005359, 37.0943484521, -0.028, -0.84],
        [122.7185005359, 37.0853491721, -0.035, -0.837],
        [122.7185005359, 37.076349892, -0.075, -0.854],
        [122.7185005359, 37.067350612, -0.165, -0.91],
        [122.7185005359, 37.0583513319, -0.262, -0.995],
        [122.7185005359, 37.0493520518, -0.361, -1.068],
        [122.7185005359, 37.0403527718, -0.455, -1.11],
        [122.7185005359, 37.0313534917, -0.566, -1.153],
        [122.7185005359, 37.0223542117, -0.663, -1.178],
        [122.7185005359, 37.0133549316, -0.77, -1.212],
        [122.7185005359, 37.0043556515, -0.889, -1.25],
        [122.7297848812, 37.2203383729, 0.0, 0.0],
        [122.7297848812, 37.2113390929, 0.0, 0.0],
        [122.7297848812, 37.2023398128, 0.0, 0.0],
        [122.7297848812, 37.1933405328, 0.576, -1.494],
        [122.7297848812, 37.1843412527, 0.29, -1.239],
        [122.7297848812, 37.1753419726, 0.117, -1.086],
        [122.7297848812, 37.1663426926, 0.038, -1.021],
        [122.7297848812, 37.1573434125, 0.025, -0.927],
        [122.7297848812, 37.1483441325, 0.025, -0.844],
        [122.7297848812, 37.1393448524, 0.027, -0.831],
        [122.7297848812, 37.1303455724, 0.032, -0.877],
        [122.7297848812, 37.1213462923, 0.025, -0.884],
        [122.7297848812, 37.1123470122, 0.0, -0.886],
        [122.7297848812, 37.1033477322, -0.024, -0.88],
        [122.7297848812, 37.0943484521, -0.036, -0.872],
        [122.7297848812, 37.0853491721, -0.052, -0.879],
        [122.7297848812, 37.076349892, -0.105, -0.91],
        [122.7297848812, 37.067350612, -0.177, -0.954],
        [122.7297848812, 37.0583513319, -0.289, -1.058],
        [122.7297848812, 37.0493520518, -0.38, -1.113],
        [122.7297848812, 37.0403527718, -0.477, -1.156],
        [122.7297848812, 37.0313534917, -0.578, -1.186],
        [122.7297848812, 37.0223542117, -0.675, -1.21],
        [122.7297848812, 37.0133549316, -0.779, -1.259],
        [122.7297848812, 37.0043556515, -0.893, -1.306],
        [122.7410692264, 37.229337653, 0.0, 0.0],
        [122.7410692264, 37.2203383729, 0.0, 0.0],
        [122.7410692264, 37.2113390929, 0.903, -1.762],
        [122.7410692264, 37.2023398128, 0.0, 0.0],
        [122.7410692264, 37.1933405328, 0.0, 0.0],
        [122.7410692264, 37.1843412527, 0.301, -1.28],
        [122.7410692264, 37.1753419726, 0.11, -1.092],
        [122.7410692264, 37.1663426926, 0.047, -0.99],
        [122.7410692264, 37.1573434125, 0.022, -0.936],
        [122.7410692264, 37.1483441325, 0.009, -0.873],
        [122.7410692264, 37.1393448524, 0.012, -0.853],
        [122.7410692264, 37.1303455724, 0.022, -0.928],
        [122.7410692264, 37.1213462923, 0.019, -0.917],
        [122.7410692264, 37.1123470122, -0.006, -0.915],
        [122.7410692264, 37.1033477322, -0.032, -0.906],
        [122.7410692264, 37.0943484521, -0.048, -0.902],
        [122.7410692264, 37.0853491721, -0.072, -0.921],
        [122.7410692264, 37.076349892, -0.132, -0.953],
        [122.7410692264, 37.067350612, -0.228, -1.039],
        [122.7410692264, 37.0583513319, -0.305, -1.105],
        [122.7410692264, 37.0493520518, -0.386, -1.138],
        [122.7410692264, 37.0403527718, -0.476, -1.179],
        [122.7410692264, 37.0313534917, -0.572, -1.218],
        [122.7410692264, 37.0223542117, -0.68, -1.26],
        [122.7410692264, 37.0133549316, -0.783, -1.308],
        [122.7410692264, 37.0043556515, -0.927, -1.377],
        [122.7410692264, 36.9953563715, -1.032, -1.388],
        [122.7523535717, 37.229337653, 0.0, 0.0],
        [122.7523535717, 37.2203383729, 0.0, 0.0],
        [122.7523535717, 37.2113390929, 0.0, 0.0],
        [122.7523535717, 37.2023398128, 0.0, 0.0],
        [122.7523535717, 37.1933405328, 0.0, 0.0],
        [122.7523535717, 37.1843412527, 0.269, -1.759],
        [122.7523535717, 37.1753419726, 0.081, -1.061],
        [122.7523535717, 37.1663426926, 0.024, -0.977],
        [122.7523535717, 37.1573434125, -0.007, -0.918],
        [122.7523535717, 37.1483441325, -0.014, -0.872],
        [122.7523535717, 37.1393448524, -0.004, -0.889],
        [122.7523535717, 37.1303455724, 0.002, -0.918],
        [122.7523535717, 37.1213462923, -0.01, -0.933],
        [122.7523535717, 37.1123470122, -0.044, -0.949],
        [122.7523535717, 37.1033477322, -0.052, -0.914],
        [122.7523535717, 37.0943484521, -0.077, -0.908],
        [122.7523535717, 37.0853491721, -0.113, -0.933],
        [122.7523535717, 37.076349892, -0.205, -1.015],
        [122.7523535717, 37.067350612, -0.274, -1.09],
        [122.7523535717, 37.0583513319, -0.333, -1.138],
        [122.7523535717, 37.0493520518, -0.404, -1.185],
        [122.7523535717, 37.0403527718, -0.491, -1.23],
        [122.7523535717, 37.0313534917, -0.607, -1.286],
        [122.7523535717, 37.0223542117, -0.743, -1.35],
        [122.7523535717, 37.0133549316, -0.869, -1.408],
        [122.7523535717, 37.0043556515, -1.032, -1.468],
        [122.7523535717, 36.9953563715, -1.091, -1.4],
        [122.7636379169, 37.229337653, 0.651, -0.333],
        [122.7636379169, 37.2203383729, 0.0, 0.0],
        [122.7636379169, 37.2113390929, 0.0, 0.0],
        [122.7636379169, 37.2023398128, 0.699, -1.739],
        [122.7636379169, 37.1933405328, 0.0, 0.0],
        [122.7636379169, 37.1843412527, 0.187, -1.869],
        [122.7636379169, 37.1753419726, -0.033, -1.569],
        [122.7636379169, 37.1663426926, -0.052, -1.281],
        [122.7636379169, 37.1573434125, -0.01, -0.947],
        [122.7636379169, 37.1483441325, -0.007, -0.923],
        [122.7636379169, 37.1393448524, -0.006, -0.924],
        [122.7636379169, 37.1303455724, -0.015, -0.942],
        [122.7636379169, 37.1213462923, -0.109, -1.086],
        [122.7636379169, 37.1123470122, -0.059, -0.941],
        [122.7636379169, 37.1033477322, -0.086, -0.936],
        [122.7636379169, 37.0943484521, -0.137, -0.968],
        [122.7636379169, 37.0853491721, -0.245, -1.079],
        [122.7636379169, 37.076349892, -0.318, -1.141],
        [122.7636379169, 37.067350612, -0.337, -1.169],
        [122.7636379169, 37.0583513319, -0.366, -1.203],
        [122.7636379169, 37.0493520518, -0.445, -1.26],
        [122.7636379169, 37.0403527718, -0.541, -1.314],
        [122.7636379169, 37.0313534917, -0.685, -1.383],
        [122.7636379169, 37.0043556515, -1.092, -1.501],
        [122.7636379169, 36.9953563715, -1.202, -1.471],
        [122.7749222622, 37.229337653, 0.62, -0.138],
        [122.7749222622, 37.2203383729, 0.0, 0.0],
        [122.7749222622, 37.2113390929, 0.0, 0.0],
        [122.7749222622, 37.2023398128, 0.0, 0.0],
        [122.7749222622, 37.1933405328, 0.346, -1.499],
        [122.7749222622, 37.1843412527, 0.154, -1.749],
        [122.7749222622, 37.1753419726, 0.006, -1.768],
        [122.7749222622, 37.1663426926, -0.08, -1.67],
        [122.7749222622, 37.1573434125, -0.08, -1.377],
        [122.7749222622, 37.1483441325, -0.084, -1.231],
        [122.7749222622, 37.1393448524, -0.013, -0.961],
        [122.7749222622, 37.1303455724, -0.082, -1.082],
        [122.7749222622, 37.1213462923, -0.117, -1.105],
        [122.7749222622, 37.1123470122, -0.066, -0.96],
        [122.7749222622, 37.1033477322, -0.093, -0.965],
        [122.7749222622, 37.0943484521, -0.144, -1.015],
        [122.7749222622, 37.076349892, -0.393, -1.263],
        [122.7749222622, 37.067350612, -0.407, -1.268],
        [122.7749222622, 37.0583513319, -0.424, -1.285],
        [122.7749222622, 37.0493520518, -0.488, -1.34],
        [122.7749222622, 37.0403527718, -0.606, -1.385],
        [122.7749222622, 37.0043556515, -1.066, -1.523],
        [122.7749222622, 36.9953563715, -1.137, -1.496],
        [122.7749222622, 36.9863570914, -1.218, -1.525],
        [122.7862066074, 37.229337653, 0.67, -0.306],
        [122.7862066074, 37.2203383729, 0.594, -0.03],
        [122.7862066074, 37.2113390929, 0.0, 0.0],
        [122.7862066074, 37.2023398128, 0.582, -1.828],
        [122.7862066074, 37.1933405328, 0.396, -1.702],
        [122.7862066074, 37.1843412527, 0.27, -1.494],
        [122.7862066074, 37.1753419726, 0.119, -1.797],
        [122.7862066074, 37.1663426926, -0.01, -1.738],
        [122.7862066074, 37.1573434125, -0.111, -1.692],
        [122.7862066074, 37.1483441325, -0.137, -1.473],
        [122.7862066074, 37.1393448524, -0.128, -1.281],
        [122.7862066074, 37.1303455724, -0.15, -1.254],
        [122.7862066074, 37.1213462923, -0.043, -0.973],
        [122.7862066074, 37.1123470122, -0.164, -1.173],
        [122.7862066074, 37.1033477322, -0.219, -1.223],
        [122.7862066074, 37.0943484521, -0.113, -1.013],
        [122.7862066074, 37.076349892, -0.345, -1.254],
        [122.7862066074, 37.067350612, -0.401, -1.305],
        [122.7862066074, 37.0583513319, -0.47, -1.378],
        [122.7862066074, 37.0493520518, -0.545, -1.398],
        [122.7862066074, 37.0403527718, -0.632, -1.428],
        [122.7862066074, 37.0313534917, -0.717, -1.452],
        [122.7862066074, 37.0223542117, -0.809, -1.486],
        [122.7862066074, 37.0133549316, -0.91, -1.499],
        [122.7862066074, 37.0043556515, -1.005, -1.514],
        [122.7862066074, 36.9953563715, -1.102, -1.539],
        [122.7862066074, 36.9863570914, 0.0, 0.0],
        [122.7974909527, 37.2203383729, 0.642, -0.224],
        [122.7974909527, 37.2113390929, 0.587, -0.065],
        [122.7974909527, 37.2023398128, 0.548, -0.281],
        [122.7974909527, 37.1933405328, 0.489, -0.262],
        [122.7974909527, 37.1843412527, 0.352, -1.651],
        [122.7974909527, 37.1753419726, 0.237, -1.458],
        [122.7974909527, 37.1663426926, 0.099, -1.306],
        [122.7974909527, 37.1573434125, -0.053, -1.566],
        [122.7974909527, 37.1483441325, -0.152, -1.59],
        [122.7974909527, 37.1393448524, -0.235, -1.636],
        [122.7974909527, 37.1303455724, -0.244, -1.539],
        [122.7974909527, 37.1213462923, -0.244, -1.473],
        [122.7974909527, 37.1123470122, -0.269, -1.442],
        [122.7974909527, 37.1033477322, -0.058, -1.008],
        [122.7974909527, 37.0943484521, -0.106, -1.05],
        [122.7974909527, 37.0853491721, -0.178, -1.127],
        [122.7974909527, 37.076349892, -0.311, -1.271],
        [122.7974909527, 37.067350612, -0.372, -1.348],
        [122.7974909527, 37.0583513319, -0.458, -1.406],
        [122.7974909527, 37.0493520518, -0.536, -1.426],
        [122.7974909527, 37.0403527718, -0.612, -1.445],
        [122.7974909527, 37.0313534917, -0.713, -1.49],
        [122.7974909527, 37.0223542117, -0.797, -1.487],
        [122.7974909527, 37.0133549316, -0.871, -1.492],
        [122.7974909527, 37.0043556515, -0.957, -1.515],
        [122.7974909527, 36.9953563715, -1.051, -1.572],
        [122.7974909527, 36.9863570914, 0.0, 0.0],
        [122.8087752979, 37.2113390929, 0.0, 0.0],
        [122.8087752979, 37.2023398128, 0.614, -0.203],
        [122.8087752979, 37.1933405328, 0.568, -0.445],
        [122.8087752979, 37.1843412527, 0.499, -0.38],
        [122.8087752979, 37.1753419726, 0.275, -1.408],
        [122.8087752979, 37.1663426926, 0.0, 0.0],
        [122.8087752979, 37.1573434125, 0.045, -1.2],
        [122.8087752979, 37.1483441325, -0.014, -1.167],
        [122.8087752979, 37.1393448524, -0.154, -1.464],
        [122.8087752979, 37.1303455724, -0.254, -1.627],
        [122.8087752979, 37.1213462923, -0.343, -1.739],
        [122.8087752979, 37.1123470122, -0.391, -1.745],
        [122.8087752979, 37.1033477322, -0.42, -1.716],
        [122.8087752979, 37.0943484521, -0.463, -1.698],
        [122.8087752979, 37.0853491721, -0.539, -1.734],
        [122.8087752979, 37.076349892, -0.309, -1.324],
        [122.8087752979, 37.067350612, -0.381, -1.37],
        [122.8087752979, 37.0583513319, -0.474, -1.443],
        [122.8087752979, 37.0493520518, -0.567, -1.476],
        [122.8087752979, 37.0403527718, -0.649, -1.502],
        [122.8087752979, 37.0313534917, -0.734, -1.534],
        [122.8087752979, 37.0223542117, -0.808, -1.545],
        [122.8087752979, 37.0133549316, -0.807, -1.488],
        [122.8087752979, 36.9863570914, -1.109, -1.643],
        [122.8200596432, 37.1933405328, 0.612, -0.458],
        [122.8200596432, 37.1753419726, 0.261, -1.328],
        [122.8200596432, 37.1663426926, 0.103, -1.078],
        [122.8200596432, 37.1573434125, 0.053, -1.063],
        [122.8200596432, 37.1483441325, -0.001, -1.089],
        [122.8200596432, 37.1393448524, -0.037, -1.116],
        [122.8200596432, 37.1303455724, -0.064, -1.126],
        [122.8200596432, 37.1213462923, -0.05, -1.052],
        [122.8200596432, 37.1123470122, -0.3, -1.577],
        [122.8200596432, 37.1033477322, -0.416, -1.724],
        [122.8200596432, 37.0943484521, -0.527, -1.828],
        [122.8200596432, 37.0853491721, 0.0, 0.0],
        [122.8200596432, 37.076349892, 0.0, 0.0],
        [122.8200596432, 37.067350612, 0.0, 0.0],
        [122.8200596432, 37.0583513319, 0.0, 0.0],
        [122.8200596432, 37.0493520518, 0.0, 0.0],
        [122.8200596432, 37.0403527718, -0.68, -1.592],
        [122.8200596432, 37.0313534917, -0.752, -1.603],
        [122.8313439884, 37.1753419726, 0.222, -1.095],
        [122.8313439884, 37.1663426926, 0.117, -0.985],
        [122.8313439884, 37.1573434125, 0.22, -0.22],
        [122.8313439884, 37.1483441325, 0.045, -0.989],
        [122.8313439884, 37.1393448524, 0.003, -1.05],
        [122.8313439884, 37.1303455724, 0.144, -0.566],
        [122.8313439884, 37.1213462923, -0.013, -0.976],
        [122.8313439884, 37.1123470122, 0.015, -0.865],
        [122.8313439884, 37.1033477322, 0.036, -0.786],
        [122.8313439884, 37.0943484521, -0.272, -1.334],
        [122.8313439884, 37.0853491721, -0.475, -1.656],
        [122.8313439884, 37.076349892, 0.0, 0.0],
        [122.8313439884, 37.067350612, 0.0, 0.0],
        [122.8313439884, 37.0133549316, 1.486, 0.767],
        [122.8426283337, 37.1663426926, 0.148, -0.918],
        [122.8426283337, 37.1573434125, 0.104, -0.916],
        [122.8426283337, 37.1483441325, 0.086, -0.968],
        [122.8426283337, 37.1393448524, 0.268, -0.218],
        [122.8426283337, 37.1303455724, -0.006, -1.05],
        [122.8426283337, 37.1213462923, -0.046, -1.059],
        [122.8426283337, 37.1123470122, 0.002, -0.864],
        [122.8426283337, 37.1033477322, 0.053, -0.727],
        [122.8426283337, 37.0943484521, 0.047, -0.735],
        [122.8426283337, 37.0853491721, 0.026, -0.824],
        [122.8426283337, 37.076349892, -0.026, -0.965],
        [122.8426283337, 36.9863570914, -0.022, -0.782],
        [122.8426283337, 36.9773578114, 1.451, 0.555],
        [122.8539126789, 37.1573434125, 0.158, -0.936],
        [122.8539126789, 37.1483441325, 0.298, -0.146],
        [122.8539126789, 37.1393448524, 0.331, -0.007],
        [122.8539126789, 37.1303455724, 0.363, 0.072],
        [122.8539126789, 37.1213462923, 0.397, 0.135],
        [122.8539126789, 37.1123470122, 0.761, 0.998],
        [122.8539126789, 37.1033477322, 0.804, 0.933],
        [122.8539126789, 37.0313534917, 0.0, 0.0],
        [122.8651970242, 37.1393448524, 0.132, -0.909],
        [122.8651970242, 37.1303455724, 0.389, 0.079],
        [122.8651970242, 37.1213462923, 0.469, 0.287],
        [122.8651970242, 37.1123470122, 0.776, 1.028],
        [122.8651970242, 37.1033477322, 0.835, 0.949],
        [122.8651970242, 37.0943484521, 0.876, 0.927],
        [122.8651970242, 37.0583513319, 1.249, 1.111],
        [122.8764813694, 37.1213462923, 0.099, -0.822],
        [122.8764813694, 37.0853491721, 0.978, 1.072],
        [122.8764813694, 37.076349892, 1.034, 1.076],
        [122.8764813694, 37.067350612, 1.077, 1.017],
        [122.8764813694, 37.0583513319, 1.122, 1.006]];
    var data=[];
    var maxMag=0;
    var minMag=Infinity;

    for (i=0;i<raw_data.length;i++){
            var lon=raw_data[i][0];
            var lat=raw_data[i][1];
            var slon=raw_data[i][2];
            var slat=raw_data[i][3];
            var mag=Math.sqrt(slon*slon+slat*slat);
            data.push([lon,lat,slon,slat,mag]);
            maxMag=Math.max(mag,maxMag);
            minMag=Math.min(mag,minMag)
    }
console.log(maxMag,minMag);
    var myChart = echarts.init(document.getElementById('map'));
    $.get('map/json/china-cities.json',function(chinaJson) {
        echarts.registerMap('china-cities', chinaJson);
        myChart.setOption({
            backgroundColor: '#404a59',
            title: {
                text: '地波雷达流场数据可视化',
                left: 'center',
                textStyle: {
                    color: '#fff'
                }
            },
            tooltip: {
                trigger: 'item'
            },
            geo: {
                map: 'china-cities',
                center: [122.6559,37.10065],
                zoom:20,
                label: {
                    show:true,
                    color:'#ff390b',
                    fontSize:14,
                    emphasis: {
                        show: true
                    }
                },
                itemStyle: {
                    normal: {
                        areaColor: '#323c48',
                        borderColor: '#111'
                    },
                    emphasis: {
                        areaColor: '#2a333d'
                    }
                },
                roam: true
            },
            visualMap: {
                left: 'right',
                min: minMag,
                max: maxMag,
                dimension: 4,
                precision:2,
                inRange: {
                    // color: ['green', 'yellow', 'red']
                    color: ['#313695', '#4575b4', '#74add1', '#abd9e9', '#e0f3f8', '#ffffbf', '#fee090', '#fdae61', '#f46d43', '#d73027', '#a50026']
                },
                realtime: false,
                calculable: true,
                range:[0,1.93],
                textStyle: {
                    color: '#fff'
                }
            },
            series: [{
                type: 'flowGL',
                coordinateSystem: 'geo',
                data: data,
                supersampling: 4,
                particleType: 'line',
                particleDensity: 128,
                particleSpeed: 1,
                itemStyle: {
                    opacity: 1
                }
            }]


        })
    })
</script>

</body>
</html>